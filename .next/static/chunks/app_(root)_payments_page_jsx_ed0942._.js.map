{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/mirzorakhmanoff/Desktop/minifull_super/app/%28root%29/payments/page.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button } from \"@shadcn/ui/button\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@shadcn/ui/table\";\nimport axios from \"axios\";\n\nexport default function Payments() {\n  const [payments, setPayments] = useState([]);\n\n  // Fetch payments data from the backend\n  useEffect(() => {\n    const fetchPayments = async () => {\n      try {\n        const response = await axios.get(\"/api/payments\");\n        setPayments(response.data);\n      } catch (error) {\n        console.error(\"Error fetching payments:\", error);\n      }\n    };\n\n    fetchPayments();\n  }, []);\n\n  const handleUpdateStatus = async (paymentId, status) => {\n    try {\n      await axios.put(`/api/payments/${paymentId}`, { status });\n      setPayments((prevPayments) =>\n        prevPayments.map((payment) =>\n          payment._id === paymentId ? { ...payment, status } : payment\n        )\n      );\n    } catch (error) {\n      console.error(\"Error updating payment status:\", error);\n    }\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <h1 className=\"text-2xl font-bold mb-4\">Payments</h1>\n      <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead>User</TableHead>\n            <TableHead>Price</TableHead>\n            <TableHead>Payment Type</TableHead>\n            <TableHead>Status</TableHead>\n            <TableHead>Actions</TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {payments.map((payment) => (\n            <TableRow key={payment._id}>\n              <TableCell>{payment.user_id.name}</TableCell>\n              <TableCell>${payment.price}</TableCell>\n              <TableCell>{payment.payment_type}</TableCell>\n              <TableCell>{payment.status || \"Pending\"}</TableCell>\n              <TableCell>\n                <Button\n                  onClick={() => handleUpdateStatus(payment._id, \"confirmed\")}\n                  className=\"bg-green-500 text-white mr-2\"\n                >\n                  Confirm\n                </Button>\n                <Button\n                  onClick={() => handleUpdateStatus(payment._id, \"rejected\")}\n                  className=\"bg-red-500 text-white\"\n                >\n                  Reject\n                </Button>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;;;;;;;;;;;;;;;;;;AADA;;;;;AAae,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAE3C,uCAAuC;IACvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8BAAE;YACR,MAAM;oDAAgB;oBACpB,IAAI;wBACF,MAAM,WAAW,MAAM,MAAM,GAAG,CAAC;wBACjC,YAAY,SAAS,IAAI;oBAC3B,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,4BAA4B;oBAC5C;gBACF;;YAEA;QACF;6BAAG,EAAE;IAEL,MAAM,qBAAqB,OAAO,WAAW;QAC3C,IAAI;YACF,MAAM,MAAM,GAAG,CAAC,CAAC,cAAc,EAAE,WAAW,EAAE;gBAAE;YAAO;YACvD,YAAY,CAAC,eACX,aAAa,GAAG,CAAC,CAAC,UAChB,QAAQ,GAAG,KAAK,YAAY;wBAAE,GAAG,OAAO;wBAAE;oBAAO,IAAI;QAG3D,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kCAAkC;QAClD;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,6LAAC;;kCACC,6LAAC;kCACC,cAAA,6LAAC;;8CACC,6LAAC;8CAAU;;;;;;8CACX,6LAAC;8CAAU;;;;;;8CACX,6LAAC;8CAAU;;;;;;8CACX,6LAAC;8CAAU;;;;;;8CACX,6LAAC;8CAAU;;;;;;;;;;;;;;;;;kCAGf,6LAAC;kCACE,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;;kDACC,6LAAC;kDAAW,QAAQ,OAAO,CAAC,IAAI;;;;;;kDAChC,6LAAC;;4CAAU;4CAAE,QAAQ,KAAK;;;;;;;kDAC1B,6LAAC;kDAAW,QAAQ,YAAY;;;;;;kDAChC,6LAAC;kDAAW,QAAQ,MAAM,IAAI;;;;;;kDAC9B,6LAAC;;0DACC,6LAAC;gDACC,SAAS,IAAM,mBAAmB,QAAQ,GAAG,EAAE;gDAC/C,WAAU;0DACX;;;;;;0DAGD,6LAAC;gDACC,SAAS,IAAM,mBAAmB,QAAQ,GAAG,EAAE;gDAC/C,WAAU;0DACX;;;;;;;;;;;;;+BAfU,QAAQ,GAAG;;;;;;;;;;;;;;;;;;;;;;AAyBtC;GAtEwB;KAAA"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}