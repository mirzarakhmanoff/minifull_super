{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/mirzorakhmanoff/Desktop/minifull_super/app/%28root%29/products/page.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Button } from \"@shadcn/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@shadcn/ui/dialog\";\nimport { Input } from \"@shadcn/ui/input\";\nimport {\n  Table,\n  TableHeader,\n  TableRow,\n  TableHead,\n  TableBody,\n  TableCell,\n} from \"@shadcn/ui/table\";\nimport { FiEdit, FiTrash2 } from \"react-icons/fi\";\nimport axios from \"axios\";\n\nexport default function Products() {\n  const [products, setProducts] = useState([]);\n  const [form, setForm] = useState({\n    name: \"\",\n    description: \"\",\n    price: \"\",\n    images: [],\n  });\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [modalOpen, setModalOpen] = useState(false);\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  // Fetch products from backend\n  const fetchProducts = async () => {\n    try {\n      const res = await axios.get(\"http://localhost:5000/products\");\n      setProducts(res.data);\n    } catch (error) {\n      console.error(\"Error fetching products:\", error);\n    }\n  };\n\n  // Handle form submit for creating/updating a product\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (editingProduct) {\n        await axios.put(\n          `http://localhost:5000/products/${editingProduct._id}`,\n          form\n        );\n      } else {\n        await axios.post(\"http://localhost:5000/products\", form);\n      }\n      fetchProducts();\n      setModalOpen(false);\n      setForm({ name: \"\", description: \"\", price: \"\", images: [] });\n      setEditingProduct(null);\n    } catch (error) {\n      console.error(\"Error saving product:\", error);\n    }\n  };\n\n  // Open modal for editing product\n  const openEditModal = (product) => {\n    setEditingProduct(product);\n    setForm({\n      name: product.name,\n      description: product.description,\n      price: product.price,\n      images: product.images,\n    });\n    setModalOpen(true);\n  };\n\n  // Handle product deletion\n  const handleDelete = async (id) => {\n    try {\n      await axios.delete(`http://localhost:5000/products/${id}`);\n      fetchProducts();\n    } catch (error) {\n      console.error(\"Error deleting product:\", error);\n    }\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <h1 className=\"text-2xl font-bold mb-4\">Admin Panel</h1>\n\n      {/* Button to add new product */}\n      <Button\n        onClick={() => setModalOpen(true)}\n        className=\"mb-6 bg-blue-600 text-white\"\n      >\n        Add New Product\n      </Button>\n\n      {/* Table to display products */}\n      <Table className=\"w-full border\">\n        <TableHeader>\n          <TableRow>\n            <TableHead>#</TableHead>\n            <TableHead>Name</TableHead>\n            <TableHead>Price</TableHead>\n            <TableHead>Actions</TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {products.map((product, index) => (\n            <TableRow key={product._id}>\n              <TableCell>{index + 1}</TableCell>\n              <TableCell>{product.name}</TableCell>\n              <TableCell>${product.price}</TableCell>\n              <TableCell>\n                <Button\n                  variant=\"secondary\"\n                  size=\"sm\"\n                  onClick={() => openEditModal(product)}\n                  className=\"bg-yellow-500 text-white mr-2\"\n                >\n                  <FiEdit />\n                </Button>\n                <Button\n                  variant=\"destructive\"\n                  size=\"sm\"\n                  onClick={() => handleDelete(product._id)}\n                  className=\"bg-red-600 text-white\"\n                >\n                  <FiTrash2 />\n                </Button>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n\n      {/* Modal for adding/editing a product */}\n      <Dialog open={modalOpen} onOpenChange={setModalOpen}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>\n              {editingProduct ? \"Edit Product\" : \"Add Product\"}\n            </DialogTitle>\n          </DialogHeader>\n          <form onSubmit={handleSubmit}>\n            <div className=\"space-y-4\">\n              <Input\n                placeholder=\"Product Name\"\n                value={form.name}\n                onChange={(e) => setForm({ ...form, name: e.target.value })}\n                className=\"w-full\"\n              />\n              <Input\n                placeholder=\"Description\"\n                value={form.description}\n                onChange={(e) =>\n                  setForm({ ...form, description: e.target.value })\n                }\n                className=\"w-full\"\n              />\n              <Input\n                type=\"number\"\n                placeholder=\"Price\"\n                value={form.price}\n                onChange={(e) => setForm({ ...form, price: e.target.value })}\n                className=\"w-full\"\n              />\n              <Input\n                type=\"file\"\n                onChange={(e) => setForm({ ...form, images: e.target.files })}\n                className=\"w-full\"\n              />\n            </div>\n            <DialogFooter>\n              <Button\n                variant=\"secondary\"\n                onClick={() => {\n                  setModalOpen(false);\n                  setEditingProduct(null);\n                  setForm({ name: \"\", description: \"\", price: \"\", images: [] });\n                }}\n                className=\"mr-2\"\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" className=\"bg-blue-600 text-white\">\n                {editingProduct ? \"Save Changes\" : \"Add Product\"}\n              </Button>\n            </DialogFooter>\n          </form>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}