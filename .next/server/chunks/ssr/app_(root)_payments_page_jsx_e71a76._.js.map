{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/mirzorakhmanoff/Desktop/minifull_super/app/%28root%29/payments/page.jsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button } from \"@shadcn/ui/button\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@shadcn/ui/table\";\nimport axios from \"axios\";\n\nexport default function Payments() {\n  const [payments, setPayments] = useState([]);\n\n  // Fetch payments data from the backend\n  useEffect(() => {\n    const fetchPayments = async () => {\n      try {\n        const response = await axios.get(\"/api/payments\");\n        setPayments(response.data);\n      } catch (error) {\n        console.error(\"Error fetching payments:\", error);\n      }\n    };\n\n    fetchPayments();\n  }, []);\n\n  const handleUpdateStatus = async (paymentId, status) => {\n    try {\n      await axios.put(`/api/payments/${paymentId}`, { status });\n      setPayments((prevPayments) =>\n        prevPayments.map((payment) =>\n          payment._id === paymentId ? { ...payment, status } : payment\n        )\n      );\n    } catch (error) {\n      console.error(\"Error updating payment status:\", error);\n    }\n  };\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      <h1 className=\"text-2xl font-bold mb-4\">Payments</h1>\n      <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead>User</TableHead>\n            <TableHead>Price</TableHead>\n            <TableHead>Payment Type</TableHead>\n            <TableHead>Status</TableHead>\n            <TableHead>Actions</TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {payments.map((payment) => (\n            <TableRow key={payment._id}>\n              <TableCell>{payment.user_id.name}</TableCell>\n              <TableCell>${payment.price}</TableCell>\n              <TableCell>{payment.payment_type}</TableCell>\n              <TableCell>{payment.status || \"Pending\"}</TableCell>\n              <TableCell>\n                <Button\n                  onClick={() => handleUpdateStatus(payment._id, \"confirmed\")}\n                  className=\"bg-green-500 text-white mr-2\"\n                >\n                  Confirm\n                </Button>\n                <Button\n                  onClick={() => handleUpdateStatus(payment._id, \"rejected\")}\n                  className=\"bg-red-500 text-white\"\n                >\n                  Reject\n                </Button>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;;;;;;;;;;;;;;;;AADA;;;;;;AAae,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAE3C,uCAAuC;IACvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB;YACpB,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,GAAG,CAAC;gBACjC,YAAY,SAAS,IAAI;YAC3B,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,4BAA4B;YAC5C;QACF;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,qBAAqB,OAAO,WAAW;QAC3C,IAAI;YACF,MAAM,MAAM,GAAG,CAAC,CAAC,cAAc,EAAE,WAAW,EAAE;gBAAE;YAAO;YACvD,YAAY,CAAC,eACX,aAAa,GAAG,CAAC,CAAC,UAChB,QAAQ,GAAG,KAAK,YAAY;wBAAE,GAAG,OAAO;wBAAE;oBAAO,IAAI;QAG3D,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kCAAkC;QAClD;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,8OAAC;;kCACC,8OAAC;kCACC,cAAA,8OAAC;;8CACC,8OAAC;8CAAU;;;;;;8CACX,8OAAC;8CAAU;;;;;;8CACX,8OAAC;8CAAU;;;;;;8CACX,8OAAC;8CAAU;;;;;;8CACX,8OAAC;8CAAU;;;;;;;;;;;;;;;;;kCAGf,8OAAC;kCACE,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;;kDACC,8OAAC;kDAAW,QAAQ,OAAO,CAAC,IAAI;;;;;;kDAChC,8OAAC;;4CAAU;4CAAE,QAAQ,KAAK;;;;;;;kDAC1B,8OAAC;kDAAW,QAAQ,YAAY;;;;;;kDAChC,8OAAC;kDAAW,QAAQ,MAAM,IAAI;;;;;;kDAC9B,8OAAC;;0DACC,8OAAC;gDACC,SAAS,IAAM,mBAAmB,QAAQ,GAAG,EAAE;gDAC/C,WAAU;0DACX;;;;;;0DAGD,8OAAC;gDACC,SAAS,IAAM,mBAAmB,QAAQ,GAAG,EAAE;gDAC/C,WAAU;0DACX;;;;;;;;;;;;;+BAfU,QAAQ,GAAG;;;;;;;;;;;;;;;;;;;;;;AAyBtC"}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}